var warnings; function getWarnings(lang) {switch (lang) {case 'es': warnings = {messages: {error_attention: 'Error', warning_attention: 'Atención', incorrect_data: 'Los datos incorrectos', name: 'Ingresá tu nombre y apellido', email: 'Ingresá tu correo electrónico', email_different: 'Los correos electrónicos no coinciden', firts_name: 'Ingresá tu nombre', last_name: 'Ingresá tu apellido', dni: 'Ingresá tu DNI', format: 'Formato de correo electrónico incorrecto', phone: 'Ingresá tu número de teléfono', person: 'Seleccioná el tipo de persona', subject: 'Ingresá tu asunto', message: 'Ingresá tu mensaje', search: 'Ingresá algo para la búsqueda', search_length: 'Ingresá una búsqueda válida', error_exception: 'Ha ocurrido un error intentá más tarde', title_contact: "Mensaje de contacto enviado", message_contact: "En las próximás horas nos comunicaremos con usted.", title_newsletter: "Te has subscrito con exito", project_name: "Ingresá tu nombre del emprendimiento", category: "Seleccioná tu categoría", members: "Seleccioná la cantidad de miembros del equipo", dedicated: "Seleccioná la dedicación de los miembros del equipo", state: "Seleccioná el estadío de tu emprendimiento", description: "Ingresá tu descripción", archive: "Ingresá tu documentación", interest: 'Seleccioná la opción que te interesa de IncuBAte', title_project: 'Gracias por confiar en nosotros!', message_project: 'Te responderemos en la brevedad posible', message_captcha: 'No se ha podido verificar el captcha', file: 'Archivo no permitido', file_size: 'El  tamaño del archivo es muy grande'}, buttons: {btn_okey: 'Aceptar', btn_submit: 'Enviando', } }; return warnings; break; case 'en': warnings = {messages: {error_attention: 'Error', warning_attention: 'Oops', incorrect_data: 'The input data is incorrect', name: 'You must enter the  full name', email: 'You must enter the email address', email_different: "Email address doesn't match", firts_name: 'You must enter the name', last_name: 'You must enter the last name', dni: 'You must enter the  ID/DNI', format: 'incorrect email format', phone: 'You must enter the phone number', person: "Select type 'of entity", subject: 'You must enter the subject', message: 'You must enter the  message', search: 'Type in your search', search_length: 'Please enter a valid search', error_exception: "S'omething went wrong. Try again later", title_contact: 'Message sent', message_contact: 'We will be contacting you shortly.', title_newsletter: 'You are subscribed', project_name: 'Name of your startup', category: 'Select a category', members: "Select number of team members", dedicated: "Select the level of commitment of team members", state: "Select the stage of your startup", description: 'You must enter the description', archive: 'Upload documents', interest: 'Select what you want from IncuBAte', title_project: 'Thank you for your trust', message_project: 'We will be contacting you shortly', message_captcha: 'The captcha could not be verified', file: 'Unsupported file', file_size: 'The file size is too large'}, buttons: {btn_okey: 'Accept', btn_submit: 'Sent', } }; return warnings; break; default: warnings = {messages: {error_attention: 'Error', warning_attention: 'Atención', incorrect_data: 'Los datos incorrectos', name: 'Ingresá tu nombre y apellido', email: 'Ingresá tu correo electrónico', email_different: 'Los correos electrónicos no coinciden', firts_name: 'Ingresá tu nombre', last_name: 'Ingresá tu apellido', dni: 'Ingresá tu DNI', format: 'Formato de correo electrónico incorrecto', phone: 'Ingresá tu número de teléfono', person: 'Seleccioná el tipo de persona', subject: 'Ingresá tu asunto', message: 'Ingresá tu mensaje', search: 'Ingresá algo para la búsqueda', search_length: 'Ingresá una búsqueda válida', error_exception: 'Ha ocurrido un error intentá más tarde', title_contact: "Mensaje de contacto enviado", message_contact: "En las próximás horas nos comunicaremos con usted.", title_newsletter: "Te has subscrito con exito", project_name: "Ingresá tu nombre del emprendimiento", category: "Seleccioná tu categoría", members: "Seleccioná la cantidad de miembros del equipo", dedicated: "Seleccioná la dedicación de los miembros del equipo", state: "Seleccioná el estadío de tu emprendimiento", description: "Ingresá tu descripción", archive: "Ingresá tu documentación", interest: 'Seleccioná la opción que te interesa de IncuBAte', title_project: 'Gracias por confiar en nosotros!', message_project: 'Te responderemos en la brevedad posible', message_captcha: 'No se ha podido verificar el captcha', file: 'Archivo no permitido', file_size: 'El  tamaño del archivo es muy grande'}, buttons: {btn_okey: 'Aceptar', btn_submit: 'Enviando', } }; return warnings; break; } } getWarnings($("#lang").val()); function showAppSearch() {var el = document.getElementById('search-nav'); el.style.display = (el.style.display == 'none') ? 'block' : 'none'; $("#btn-q").toggleClass("glyphicon glyphicon-search glyphicon glyphicon-remove"); } function showSearch() {$(".nav-header").hide(); $(".search-nav").show(); } function hideSearch() {$(".nav-header").show(); $(".search-nav").hide(); } function GoToPost(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/noticias/' + url; } else {window.location = $("#url").val() + '/en/news/' + url; } }; function GoToProyecto(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/proyectos/' + url; } else {window.location = $("#url").val() + '/en/projects/' + url; } }; function GoToEvento(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/agenda/' + url; } else {window.location = $("#url").val() + '/en/diary/' + url; } } function GoNewsCategory() {if ($("#select-category").val() != "") {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/noticias/' + $("#select-category").val(); } else {window.location = $("#url").val() + '/en/news/' + $("#select-category").val(); } } } function GoProjectsCategory() {if ($("#select-category").val() != "") {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/proyectos/' + $("#select-category").val(); } else {window.location = $("#url").val() + '/en/projects/' + $("#select-category").val(); } } } function GoEventCategory() {if ($("#select-category").val() != "") {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/agenda/' + $("#select-category").val(); } else {window.location = $("#url").val() + '/en/diary/' + $("#select-category").val(); } } } function GoMentorsCategory() {if ($("#select-category").val() != "") {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/mentores/' + $("#select-category").val(); } else {window.location = $("#url").val() + '/en/mentors/' + $("#select-category").val(); } } } function gotoCategoryProject(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/proyectos/' + url; } else {window.location = $("#url").val() + '/en/projects/' + url; } } function gotoCategoryEvent(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/agenda/' + url; } else {window.location = $("#url").val() + '/en/diary/' + url; } } function gotoCategoryMentor(url) {if ($("#lang").val() == 'es') {window.location = $("#url").val() + '/es/mentores/' + url; } else {window.location = $("#url").val() + '/en/mentors/' + url; } } function ShowTabs() {var category = $("#category").val(); $(".tab-pane").removeClass('active in'); $("#" + category).addClass('active in'); } function encrypt_data() {var iv = CryptoJS.enc.Utf8.parse("abcdef9876543210"); var key = CryptoJS.enc.Utf8.parse("0123456789abcdef"); var formserializeArray = $("#form").serializeArray(); var jsonObj = {}; jQuery.map(formserializeArray, function(n, i) {var encrypted = CryptoJS.AES.encrypt(n.value, key, {iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); if (n.name != 'captcha') {jsonObj[n.name] = CryptoJS.enc.Base64.stringify(encrypted.ciphertext); } else {jsonObj[n.name] = n.value; } }); return jsonObj; } $(window).scroll(function() {132 <= $(window).scrollTop() ? $("#sticky-header").addClass("sticky") : $("#sticky-header").removeClass("sticky"); 800 >= $(window).scrollTop() ? $("#top-button").css("opacity", "0") : $("#top-button").css("opacity", "1"); }); $(window).on('load', function() {$("#mask").hide(); 132 <= $(window).scrollTop() ? $("#sticky-header").addClass("sticky") : $("#sticky-header").removeClass("sticky"); 800 >= $(window).scrollTop() ? $("#top-button").css("opacity", "0") : $("#top-button").css("opacity", "1"); }); $(document).ready(function() {$(document).on("click", function(e) {if ($("#content-sidenav").length) {var el = document.getElementById('content-sidenav'); if (el.style.display == 'block') {if ($(e.target).attr("class") == 'content-sidenav') {$("#content-sidenav").hide(); } } } }); $("#btn-toogle").click(function() {var el = document.getElementById('content-sidenav'); el.style.display = (el.style.display == 'none') ? 'block' : 'none'; }); $("#archive").change(function() {var fileExtension = ["jpeg", "jpg", "png", "doc", "docx", "pdf"]; var e = ''; for (var i = 0; i < document.getElementById("archive").files.length; i++) {var archive = document.getElementById("archive").files[i].name; if ($.inArray($(this).val().split('.').pop().toLowerCase(), fileExtension) == -1) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.file, }); $("archive").val(null); return false; } else {var numb = document.getElementById("archive").files[i].size / 1024 / 1024; numb = numb.toFixed(2); if (numb > 1) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.file_size, }); $("archive").val(null); return false; } else {increment_bar(); if (i != 0) {e += ","; } e += " " + document.getElementById("archive").files[i].name; } } } document.getElementById("iborrainputfile").innerHTML = e }); if ($("#youtube-bg").length) {$("#youtube-bg").YTPlayer({videoURL: $("#youtube-bg").data("video"), containment: "#youtube-bg", mute: !0, loop: !0, startAt: 1, showControls: !1, showYTLogo: !1 }) } $("#top-button").click(function() {$("html, body").animate({scrollTop: "0px"}) }); $('#search').keyup(function(e) {if (e.keyCode == 13) {if ($("#search").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } var search = $("#search").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); $("#btn-search").click(function() {if ($("#search").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } else {var search = $("#search").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); $('#search-mov').keyup(function(e) {if (e.keyCode == 13) {if ($("#search-mov").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } var search = $("#search-mov").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); $("#btn-search-mov").click(function() {if ($("#search-mov").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } else {var search = $("#search-mov").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); $('#search-1').keyup(function(e) {if (e.keyCode == 13) {if ($("#search-1").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } var search = $("#search-1").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); $("#btn-search-1").click(function() {if ($("#search-1").val() == '') {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search }); return false; } else {var search = $("#search-1").val(); if (search.length < 3) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.search_length }); return false; } search = search.toLowerCase(); search = search.replace(/\s/g, '-'); var url = $("#url").val(); if ($("#lang").val() == 'es') {window.location = url + "/es/buscar?q=" + search; } else {window.location = url + "/en/search?q=" + search; } } }); }); function enter_newsletter(e) {if (e.keyCode == 13) {e.preventDefault(); send_newsletter(); } } function enter_name_c(e) {if (e.keyCode == 13) {if ($("#name").val() != "") {$("#email").focus(); } } } function enter_email_c(e) {if (e.keyCode == 13) {if ($("#email").val() != "") {$("#message").focus(); } } } function enter_message_c(e) {if (e.keyCode == 13) {if ($("#message").val() != "") {send_message(); } } } function enter_name_in(e) {if (e.keyCode == 13) {if ($("#name_in").val() != "") {$("#last_name_in").focus(); } } } function enter_last_name_in(e) {if (e.keyCode == 13) {if ($("#last_name_in").val() != "") {$("#dni_in").focus(); } } } function enter_dni_in(e) {if (e.keyCode == 13) {if ($("#dni_in").val() != "") {$("#phone_in").focus(); } } } function enter_phone_in(e) {if (e.keyCode == 13) {if ($("#phone_in").val() != "") {nextmyBA(); } } } function enter_name(e) {if (e.keyCode == 13) {if ($("#name").val() != "") {$("#last_name").focus(); } } } function enter_last_name(e) {if (e.keyCode == 13) {if ($("#last_name").val() != "") {$("#dni").focus(); } } } function enter_dni(e) {if (e.keyCode == 13) {if ($("#dni").val() != "") {$("#phone").focus(); } } } function enter_phone(e) {if (e.keyCode == 13) {if ($("#phone").val() != "") {$("#email").focus(); } } } function enter_email(e) {if (e.keyCode == 13) {if ($("#email").val() != "") {$("#conf_email").focus(); } } } function enter_project_name(e) {if (e.keyCode == 13) {if ($("#project_name").val() != "") {$("#website").focus(); } } } function enter_video(e) {if (e.keyCode == 13) {if ($("#video").val() != "") {$("#description").focus(); } } } function nextmyBA() {if ($("#name_in").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.firts_name, }); $("#name_in").focus(); return false; } else if ($("#last_name_in").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.last_name, }); $("#last_name_in").focus(); return false; } else if ($("#dni_in").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.dni, }); $("#dni_in").focus(); return false; } else if ($("#phone_in").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.phone, }); $("#phone_in").focus(); return false; } else {$("#sectmyBA").hide(); $("#sectTitular").show(); $("#name").focus(); } } function prevTitular() {$("#sectmyBA").show(); $("#sectTitular").hide(); } function nextTitular() {var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; if ($("#name").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.firts_name, }); $("#name").focus(); return false; } else if ($("#last_name").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.last_name, }); $("#last_name").focus(); return false; } else if ($("#dni").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.dni, }); $("#dni").focus(); return false; } else if ($("#phone").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.phone, }); $("#phone").focus(); return false; } else if ($("#email").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.email, }); $("#email").focus(); return false; } else if (!expr.test($("#email").val())) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.format }); $("#email").focus(); return false; } else if ($("#conf_email").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.email, }); $("#conf_email").focus(); return false; } else if (!expr.test($("#conf_email").val())) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.format }); $("#conf_email").focus(); return false; } else if ($("#conf_email").val() != $("#email").val()) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.email_different }); $("#conf_email").focus(); return false; } else if (!$('.person:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.person, }); return false; } else {$("#sectTitular").hide(); $("#sectEmpr").show(); $("#project_name").focus(); } } function prevEmpr() {$("#sectTitular").show(); $("#sectEmpr").hide(); } function finalizar() {if ($("#project_name").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.project_name, }); $("#project_name").focus(); return false; } else if (!$('.category:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.category }); return false; } else if (!$('.members:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.members }); return false; } else if (!$('.dedicated:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.dedicated }); return false; } else if (!$('.state:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.state }); return false; } else if ($("#description").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.description, }); $("#description").focus(); return false; } else if (0 == document.getElementById("archive").files.length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.archive, }); return false; } else if (!$('.interest:checked').length) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.interest }); return false; } else {if ($("#activate_captcha").val() == '0') {var form = $('#formP')[0]; var data = new FormData(form); var btn_title = $("#btn-finalizar").data('title'); $("#btn-finalizar").prop('disabled', true); $(".btn-primary").prop('disabled', true); $("#btn-finalizar").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); $.ajax({type: "POST", enctype: 'multipart/form-data', url: $("#url").val() + '/saveEmprendimiento', data: data, processData: false, contentType: false, cache: false, timeout: 600000, success: function(data) {$("#formP")[0].reset(); $("#btn-contact").html(btn_title); swal({title: warnings.messages.title_project, text: warnings.messages.message_project, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); }, error: function(e) {swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } }); } else {grecaptcha.ready(function() {grecaptcha.execute($("#captcha-key").val(), {action: 'homepage'}).then(function(token) {$('#captcha').val(token); var form = $('#formP')[0]; var data = new FormData(form); var btn_title = $("#btn-finalizar").data('title'); $("#btn-finalizar").prop('disabled', true); $(".btn-primary").prop('disabled', true); $("#btn-finalizar").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); $.ajax({type: "POST", enctype: 'multipart/form-data', url: $("#url").val() + '/saveEmprendimiento', data: data, processData: false, contentType: false, cache: false, timeout: 600000, success: function(data) {$("#formP")[0].reset(); $("#btn-contact").html(btn_title); if (data.response == 'no-catpcha') {swal({title: warnings.messages.message_captcha, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else {swal({title: warnings.messages.title_project, text: warnings.messages.message_project, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); } }, error: function(e) {swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } }); }); }); } } } function send_newsletter() {var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; if ($("#email").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.email, }); $("#email").focus(); return false; } else if (!expr.test($("#email").val())) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.format }); $("#email").focus(); return false; } else {if ($("#activate_captcha").val() == '0') {var route = $("#url").val() + "/saveMailchimp"; var btn_title = $("#btn-newsletter").data('title'); $("#btn-newsletter").prop('disabled', true); $("#btn-newsletter").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); $.ajax({url: route, headers: {'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;', 'x-api-key': 'rwWjQk8TPaJAcbDqi4i9TDTXWHxQzpqzdLnM5ttKYMmYpTjLp6'}, type: 'POST', dataType: 'json', data: encrypt_data(), success: function(data) {$("#form")[0].reset(); $("#btn-newsletter").html(btn_title); if (data.response == 'no-email') {swal({title: warnings.messages.message_captcha, text: warnings.messages.format, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else {swal({title: warnings.messages.title_newsletter, text: "", confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); } }, error: function(data) {$("#btn-newsletter").html(btn_title); swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); return false; } }); } else {grecaptcha.ready(function() {grecaptcha.execute($("#captcha-key").val(), {action: 'homepage'}).then(function(token) {$('#captcha').val(token); var route = $("#url").val() + "/saveMailchimp"; var btn_title = $("#btn-newsletter").data('title'); $("#btn-newsletter").prop('disabled', true); $("#btn-newsletter").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); $.ajax({url: route, headers: {'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;', 'x-api-key': 'rwWjQk8TPaJAcbDqi4i9TDTXWHxQzpqzdLnM5ttKYMmYpTjLp6'}, type: 'POST', dataType: 'json', data: encrypt_data(), success: function(data) {$("#form")[0].reset(); $("#btn-newsletter").html(btn_title); if (data.response == 'no-catpcha') {swal({title: warnings.messages.message_captcha, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else if (data.response == 'no-email') {swal({title: warnings.messages.message_captcha, text: warnings.messages.format, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else {swal({title: warnings.messages.title_newsletter, text: "", confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); } }, error: function(data) {$("#btn-newsletter").html(btn_title); swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); return false; } }); }); }); } } } function send_message() {var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; if ($("#name").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.name, }); $("#name").focus(); return false; } else if ($("#email").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.email, }); $("#email").focus(); return false; } else if (!expr.test($("#email").val())) {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.format }); $("#email").focus(); return false; } else if ($("#message").val() == "") {$.growl.error({title: "<i class='fa fa-exclamation-circle'></i> " + warnings.messages.error_attention, message: warnings.messages.message, }); $("#message").focus(); return false; } else {if ($("#activate_captcha").val() == '0') {var btn_title = $("#btn-contact").data('title'); $("#btn-contact").prop('disabled', true); $("#btn-contact").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); var route = $("#url").val() + "/saveContact"; $.ajax({url: route, headers: {'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;', 'x-api-key': 'rwWjQk8TPaJAcbDqi4i9TDTXWHxQzpqzdLnM5ttKYMmYpTjLp6'}, type: 'POST', dataType: 'json', data: encrypt_data(), success: function(data) {$("#form")[0].reset(); $("#btn-contact").html(btn_title); if (data.response == 'no-email') {swal({title: warnings.messages.message_captcha, text: warnings.messages.format, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else {swal({title: warnings.messages.title_contact, text: warnings.messages.message_contact, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); } }, error: function(data) {$("#btn-contact").html(btn_title); swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); return false; } }); } else {grecaptcha.ready(function() {grecaptcha.execute($("#captcha-key").val(), {action: 'homepage'}).then(function(token) {$('#captcha').val(token); var btn_title = $("#btn-contact").data('title'); $("#btn-contact").prop('disabled', true); $("#btn-contact").html('<i class="fa fa-circle-o-notch fa-spin"></i> ' + warnings.buttons.btn_submit); var route = $("#url").val() + "/saveContact"; $.ajax({url: route, headers: {'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;', 'x-api-key': 'rwWjQk8TPaJAcbDqi4i9TDTXWHxQzpqzdLnM5ttKYMmYpTjLp6'}, type: 'POST', dataType: 'json', data: encrypt_data(), success: function(data) {$("#form")[0].reset(); $("#btn-contact").html(btn_title); if (data.response == 'no-catpcha') {swal({title: warnings.messages.message_captcha, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else if (data.response == 'no-email') {swal({title: warnings.messages.message_captcha, text: warnings.messages.format, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); } else {swal({title: warnings.messages.title_contact, text: warnings.messages.message_contact, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, imageUrl: $("#url").val() + "/uploads/icons/success.png", }, function() {location.reload(); }); } }, error: function(data) {$("#btn-contact").html(btn_title); swal({title: warnings.messages.warning_attention, text: warnings.messages.error_exception, confirmButtonColor: "#fdd306", cancelButtonColor: "#fdd306", cancelButtonText: warnings.buttons.btn_okey, confirmButtonText: warnings.buttons.btn_okey, type: "warning"}, function() {location.reload(); }); return false; } }); }); }); } } } function increment_bar() {var percentage = 5.25; var total = 0; if ($("#name_in").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#last_name_in").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#dni_in").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#phone_in").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#name").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#last_name").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#dni").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#phone").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#email").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($("#conf_email").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($('.person:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($("#project_name").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if ($('.category:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($('.members:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($('.dedicated:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($('.state:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($("#description").val() != "") {total = parseFloat(total) + parseFloat(percentage); } if (0 != document.getElementById("archive").files.length) {total = parseFloat(total) + parseFloat(percentage); } if ($('.interest:checked').length) {total = parseFloat(total) + parseFloat(percentage); } if ($("#name_in").val() == "" || $("#last_name_in").val() == "" || $("#dni_in").val() == "" || $("#phone_in").val() == "") {$("#btn-1").addClass('btn-default'); $("#btn-1").removeClass('btn-primary'); $("#btn-1").prop('disabled', true); } else {$("#btn-1").removeClass('btn-default'); $("#btn-1").addClass('btn-primary'); $("#btn-1").prop('disabled', false); } if ($("#name").val() != "" && $("#last_name").val() != "" && $("#dni").val() != "" && $("#phone").val() != "" && $("#email").val() != "" && $("#conf_email").val() != "" && $('.person:checked').length) {$("#btn-2").removeClass('btn-default'); $("#btn-2").addClass('btn-primary'); $("#btn-2").prop('disabled', false); } else {$("#btn-2").addClass('btn-default'); $("#btn-2").removeClass('btn-primary'); $("#btn-2").prop('disabled', true); } total = Math.round(total); $(".progress-bar").css('width', total + '%'); $(".progress-bar").html(total + '%'); if (total < 100) {$("#btn-finalizar").addClass('btn-default'); $("#btn-finalizar").removeClass('btn-primary'); $("#btn-finalizar").prop('disabled', true); } else {$("#btn-finalizar").removeClass('btn-default'); $("#btn-finalizar").addClass('btn-primary'); $("#btn-finalizar").prop('disabled', false); } } function validateContact() {if ($("#name").val() != "" && $("#email").val() != "" && $("#message").val() != "") {$("#btn-contact").removeClass('btn-default'); $("#btn-contact").addClass('btn-primary'); $("#btn-contact").prop('disabled', false); } else {$("#btn-contact").addClass('btn-default'); $("#btn-contact").removeClass('btn-primary'); $("#btn-contact").prop('disabled', true); } } function descargar(url, type) {if (type == '1') {if ($("#lang").val() == 'es') {window.open($("#url").val() + '/descargar/' + url); } else {window.open($("#url").val() + '/download/' + url); } } else {window.open(url); } } $(function() {var hash = window.location.hash; if (hash != '') {$("a[href='" + hash + "']").click(); } }); function share(url) {window.open(url, 'ventanacompartir', 'toolpost=0, status=0, width=650, height=450'); } function showSection() {$("#angle").toggleClass('glyphicon-chevron-down glyphicon-chevron-up'); var el = document.getElementById('desplegable'); el.style.display = (el.style.display == 'none') ? 'block' : 'none'; }; $('<img>').attr('src', $("#url").val() + '/frontend/css/images/menu_hover.svg');